
IMPORTANT

The commands are writing in such a way that you should only copy and paste them.


REQUIREMENTS

The following equipment have been employed:

1. Linux Mint 18 Sarah

2. Zybo board

3. Vivado v2016.2 (64 bits)




STEPS

1. Download the u-boot Repository for Digilent FPGA Boards from GitHub:

#COPY FROM HERE:

wget 'https://github.com/Digilent/u-boot-Digilent-Dev/archive/master.zip' -O u-boot-Digilent-Dev-master.zip
unzip u-boot-Digilent-Dev-master.zip -d unzip_folder	
cd unzip_folder/
mv u-boot-Digilent-Dev-master/ ../
cd ..
rm -rf unzip_folder/
rm u-boot-Digilent-Dev-master.zip

#TO HERE



2. Download the Zybo base system for Vivado from the Digilent website 

#COPY FROM HERE:

wget 'https://reference.digilentinc.com/_media/zybo:zybo_base_system.zip' -O zybo_base_system.zip
unzip zybo_base_system.zip -d unzip_folder	
cd unzip_folder/
mv zybo_base_system/ ../
cd ..
rm -rf unzip_folder/
rm zybo_base_system.zip

#TO HERE

#Otra forma mas directa:
git clone -b master https://github.com/DigilentInc/u-boot-Digilent-Dev.git
git clone -b master-next https://github.com/DigilentInc/Linux-Digilent-Dev.git






3. Set necessary variables on the bash shell

export ARCH=arm
export CROSS_COMPILE=arm-xilinx-linux-gnueabi-
#source /home/mario/Xilinx/Vivado/2016.2/settings64.sh 
export PATH=$PATH:/home/mario/Xilinx/SDK/2016.2/gnu/arm/lin/bin
export echo PATH=$PWD/u-boot-Digilent-Dev-master-next/tools:$PATH


4. Modify zynq_zybo.h, which is inside "u-boot-Digilent-Dev-master-next" folder. We should have the following lines:

	"sdboot=if mmcinfo; then " \
			"run uenvboot; " \
			"echo Copying Linux from SD to RAM... && " \
			"fatload mmc 0 0x3000000 ${kernel_image} && " \
			"fatload mmc 0 0x2A00000 ${devicetree_image} && " \
			"bootm 0x3000000 - 0x2A00000; " \
		"fi\0" \


5. Compile u-boot file

mkdir sd_boot
cd u-boot-Digilent-Dev-master
make zynq_zybo_config
make
cp u-boot ../sd_boot/u-boot.elf





### Corregir esto con mi propio github, haciendo un repo nuevo, voy por el paso 3 de http://www.dbrss.org/zybo/tutorial4.html





